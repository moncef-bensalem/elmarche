(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dc8a76c","chunk-2d0b5fa6"],{"1acc":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3 text-right"},[t._v("Email address :")]),s("p",{staticClass:"col-sm-9"},[t._v(t._s(t.order.email))])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3 text-right"},[t._v("Phone :")]),s("p",{staticClass:"col-sm-9"},[t._v(t._s(t.order.phone))])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3 text-right"},[t._v("Address :")]),s("p",{staticClass:"col-sm-9"},[t._v(t._s(t.order.address))])]),s("hr"),s("div",{staticClass:"row w-100"},[s("div",{staticClass:"col-sm-4 text-center"},[s("label",[t._v("Country")]),s("p",[t._v(t._s(t.order.country))])]),s("div",{staticClass:"col-sm-4 text-center"},[s("label",[t._v("City")]),s("p",[t._v(t._s(t.order.city))])]),s("div",{staticClass:"col-sm-4 text-center"},[s("label",[t._v("State")]),s("p",[t._v(t._s(t.order.state))])])]),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3 text-right"},[t._v("Description:")]),s("p",{staticClass:"col-sm-9"},[t._v(t._s(t.order.description))])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3 text-right"},[t._v("Ordered at :")]),s("p",{staticClass:"col-sm-9"},[t._v(t._s(t.order.created_at))])]),s("hr"),s("div",{staticClass:"row w-100"},[s("div",{staticClass:"col-sm-4 text-center"},[s("label",[t._v("Quantity")]),s("p",[t._v(t._s(t.order.quantity))])]),s("div",{staticClass:"col-sm-4 text-center"},[s("label",[t._v("Amount")]),s("p",[t._v(t._s(t.order.amount))])]),s("div",{staticClass:"col-sm-4 text-center"},[s("label",[t._v("Weight")]),s("p",[t._v(t._s(t.order.weight))])])]),s("hr"),s("div",{staticClass:"col-12"},[s("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-products",modifiers:{"collapse-products":!0}}],staticClass:"btn btn-info mt-3"},[s("span",[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[s("path",{attrs:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}}),s("circle",{attrs:{cx:"12",cy:"12",r:"3"}})])]),t._v(" Product ")]),s("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-products"}},[s("div",{staticClass:"row"},t._l(t.order.products,(function(e){return s("div",{key:e.id,staticClass:"col-sm-6 col-md-4"},[s("b-card",{attrs:{"img-src":e.image_location,"img-alt":"Image","img-top":""},scopedSlots:t._u([{key:"footer",fn:function(){},proxy:!0}],null,!0)},[s("small",{staticClass:"text-dark"},[t._v(t._s(e.name))]),s("ul",{staticClass:"list-group"},[s("li",{staticClass:"list-group-item"},[s("small",[t._v("Quantity : "+t._s(e.pivot.quantity))])]),s("li",{staticClass:"list-group-item"},[s("small",[t._v("Total price : DT"+t._s(e.pivot.amount))])]),s("li",{staticClass:"list-group-item"},[s("small",[t._v("Total weight : lb"+t._s(e.pivot.weight))])])])])],1)})),0)])],1),s("hr"),s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-sm-3 text-right"},[t._v("Payment Method:")]),s("div",{staticClass:"col-sm-9 text-capitalize"},[t._v(t._s(t.order.payment_method))])]),s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-sm-3 text-right"},[t._v("Delivered :")]),s("div",{staticClass:"col-sm-9"},[t._v(t._s(t.order.is_delivered?"Yes":"No"))])]),s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-sm-3 text-right"},[t._v("Delivered at:")]),s("div",{staticClass:"col-sm-9"},[t._v(t._s(t.order.delivered_at))])])])],1)},i=[],a={name:"OrdersDetails",props:{order:Object},data:function(){return{edit_mode:0}}},l=a,n=s("2877"),o=Object(n["a"])(l,r,i,!1,null,"38f7da36",null);e["default"]=o.exports},"99af":function(t,e,s){"use strict";var r=s("23e7"),i=s("d039"),a=s("e8b5"),l=s("861d"),n=s("7b0b"),o=s("50c4"),c=s("8418"),d=s("65f0"),u=s("1dde"),v=s("b622"),m=s("2d00"),_=v("isConcatSpreadable"),p=9007199254740991,f="Maximum allowed index exceeded",h=m>=51||!i((function(){var t=[];return t[_]=!1,t.concat()[0]!==t})),b=u("concat"),C=function(t){if(!l(t))return!1;var e=t[_];return void 0!==e?!!e:a(t)},w=!h||!b;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,s,r,i,a,l=n(this),u=d(l,0),v=0;for(e=-1,r=arguments.length;e<r;e++)if(a=-1===e?l:arguments[e],C(a)){if(i=o(a.length),v+i>p)throw TypeError(f);for(s=0;s<i;s++,v++)s in a&&c(u,v,a[s])}else{if(v>=p)throw TypeError(f);c(u,v++,a)}return u.length=v,u}})},e75b:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper-table"},[s("b-table",{attrs:{"sticky-header":"500px",fields:t.fields,items:t.orders,"head-variant":"light"},scopedSlots:t._u([{key:"head(user_id)",fn:function(){return[s("div",{staticClass:"text-nowrap"},[t._v("Buyer ID")])]},proxy:!0},{key:"head(created_at)",fn:function(){return[s("div",{staticClass:"text-nowrap"},[t._v("Ordered at")])]},proxy:!0},{key:"head(is_delivered)",fn:function(){return[s("div",{staticClass:"text-nowrap text-center"},[t._v("Delivered")])]},proxy:!0},{key:"head(action)",fn:function(){return[s("div",{staticClass:"text-nowrap text-left"},[t._v("Action")])]},proxy:!0},{key:"cell(is_delivered)",fn:function(e){return[t.spinner_delivered===e.item.id?s("div",{staticClass:"w-100 text-center"},[s("b-spinner",{attrs:{variant:"primary",label:"Spinning"}})],1):s("div",["admin"===t.user.role?s("div",{staticClass:"custom-control custom-switch"},[s("input",{staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:e.item.is_delivered}}),s("label",{staticClass:"custom-control-label font-weight-bold",class:e.item.is_delivered?"text-success":"text-danger",attrs:{for:"customSwitches"},on:{click:function(s){return t.setDeliver(e.item.id)}}},[t._v(t._s(e.value))])]):t._e(),"buyer"===t.user.role?s("div",{staticClass:"text-nowrap font-weight-bold",class:e.item.is_delivered?"text-success":"text-danger"},[t._v(t._s(e.value))]):t._e()])]}},{key:"cell(deleted_at)",fn:function(e){return[t.spinner_canceled===e.item.id?s("div",{staticClass:"w-100 text-center"},[s("b-spinner",{attrs:{variant:"primary",label:"Spinning"}})],1):s("p",{staticClass:"text-center",class:e.item.deleted_at?"text-danger":"text-success"},[t._v(" "+t._s(e.value)+" ")])]}},{key:"cell(action)",fn:function(e){return[s("div",{staticClass:"text-left"},[s("button",{staticClass:"btn btn-outline-info mr-2",on:{click:function(s){return t.$bvModal.show(""+e.item.id)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[s("path",{attrs:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}}),s("circle",{attrs:{cx:"12",cy:"12",r:"3"}})])]),e.item.deleted_at||e.item.is_delivered||"admin"!==t.user.role?t._e():s("button",{staticClass:"btn btn-outline-danger",on:{click:function(s){return t.trashOrder(e.item.id)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[s("polyline",{attrs:{points:"3 6 5 6 21 6"}}),s("path",{attrs:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}),s("line",{attrs:{x1:"10",y1:"11",x2:"10",y2:"17"}}),s("line",{attrs:{x1:"14",y1:"11",x2:"14",y2:"17"}})])])]),s("b-modal",{attrs:{id:""+e.item.id,scrollable:"",size:"lg",title:"Order's details:","ok-only":""}},[s("OrdersDetails",{attrs:{order:e.item}})],1)]}}])})],1)},i=[],a=s("5530"),l=(s("99af"),s("7db0"),s("2f62")),n=s("1acc"),o={name:"OrdersTable",components:{OrdersDetails:n["default"]},data:function(){return{fields:[{key:"user_id",label:"User Id",formatter:function(t){return t||" Guest "}},{key:"email",label:"Email"},{key:"quantity",label:"Quantity",sortable:!0},{key:"amount",label:"Amount",formatter:function(t){return"$ "+t}},{key:"is_delivered",label:"Delivered",formatter:function(t){return 1==t?"Yes":"No"}},{key:"created_at",label:"Ordered at",sortable:!0,formatter:function(t){var e=new Date(t),s=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1);return"".concat(e.getFullYear()," - ").concat(s," - ").concat(e.getDate())}},{key:"deleted_at",label:"Status",formatter:function(t){return t?"Canceled":"Valid"}},{key:"action",label:"Action"}],spinner_delivered:0,spinner_canceled:0,hide:0}},computed:Object(l["c"])(["orders","user"]),methods:Object(a["a"])(Object(a["a"])({},Object(l["b"])(["getOrders","setOrderDelivered","cancelOrder"])),{},{setDeliver:function(t){var e=this,s=confirm("you are about to update the delivered status, are you sure?");if(s){this.spinner_delivered=t;var r=this.orders.find((function(e){return e.id===t}));if(r){var i={id:r.id,is_delivered:!r.is_delivered};this.setOrderDelivered(i).then((function(){e.spinner_delivered=0})).catch((function(t){alert(t)}))}}},trashOrder:function(t){var e=this,s=confirm(' Are you sure you want to "Terminate"  this order? ');s&&(this.spinner_canceled=t,this.cancelOrder(t).then((function(){setTimeout((function(){e.spinner_canceled=0}),1e3)})))}}),created:function(){this.getOrders()}},c=o,d=s("2877"),u=Object(d["a"])(c,r,i,!1,null,"521519a2",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-1dc8a76c.e417f687.js.map